{"ast":null,"code":"import { isDevelopment, isTest } from './environment.js';\n\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction deepFreeze(value) {\n  var workSet = new Set([value]);\n  workSet.forEach(function (obj) {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(function (name) {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\n\nfunction maybeDeepFreeze(obj) {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n\n  return obj;\n}\n\nexport { maybeDeepFreeze };","map":{"version":3,"sources":["maybeDeepFreeze.js"],"names":[],"mappings":";;AACA,SAAS,QAAT,CAAkB,KAAlB,EAAyB;AACrB,SAAO,KAAK,KAAK,IAAV,IAAkB,OAAO,KAAP,KAAiB,QAA1C;AACH;;AACD,SAAS,UAAT,CAAoB,KAApB,EAA2B;AACvB,MAAI,OAAO,GAAG,IAAI,GAAJ,CAAQ,CAAC,KAAD,CAAR,CAAd;AACA,EAAA,OAAO,CAAC,OAAR,CAAgB,UAAU,GAAV,EAAe;AAC3B,QAAI,QAAQ,CAAC,GAAD,CAAZ,EAAmB;AACf,UAAI,CAAC,MAAM,CAAC,QAAP,CAAgB,GAAhB,CAAL,EACI,MAAM,CAAC,MAAP,CAAc,GAAd;AACJ,MAAA,MAAM,CAAC,mBAAP,CAA2B,GAA3B,EAAgC,OAAhC,CAAwC,UAAU,IAAV,EAAgB;AACpD,YAAI,QAAQ,CAAC,GAAG,CAAC,IAAD,CAAJ,CAAZ,EACI,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAD,CAAf;AACP,OAHD;AAIH;AACJ,GATD;AAUA,SAAO,KAAP;AACH;;AACM,SAAS,eAAT,CAAyB,GAAzB,EAA8B;AACjC,MAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,YAAzB,KAA0C,aAAa,MAAM,MAAM,EAAnE,CAAJ,EAA4E;AACxE,IAAA,UAAU,CAAC,GAAD,CAAV;AACH;;AACD,SAAO,GAAP;AACJ","sourcesContent":["import { isDevelopment, isTest } from './environment';\nfunction isObject(value) {\n    return value !== null && typeof value === \"object\";\n}\nfunction deepFreeze(value) {\n    var workSet = new Set([value]);\n    workSet.forEach(function (obj) {\n        if (isObject(obj)) {\n            if (!Object.isFrozen(obj))\n                Object.freeze(obj);\n            Object.getOwnPropertyNames(obj).forEach(function (name) {\n                if (isObject(obj[name]))\n                    workSet.add(obj[name]);\n            });\n        }\n    });\n    return value;\n}\nexport function maybeDeepFreeze(obj) {\n    if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n        deepFreeze(obj);\n    }\n    return obj;\n}\n//# sourceMappingURL=maybeDeepFreeze.js.map"]},"metadata":{},"sourceType":"module"}